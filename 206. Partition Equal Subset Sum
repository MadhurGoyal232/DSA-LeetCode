class Solution {
    public int helper(int[] nums , int[][] dp , int idx, int target){

        if(target == 0){
            return 1;
        }
        if(idx>=nums.length){
            return 0;
        }
        if(dp[idx][target] != -1){
            return dp[idx][target];
        }
        int pick = 0;
        int notPick = 0;

        if(target>=nums[idx]){

            pick = helper(nums ,dp , idx+1 , target-nums[idx]);
        }

             notPick = helper(nums, dp , idx+1, target);
        

        return dp[idx][target] = (pick == 1 || notPick == 1) ? 1 : 0;

    }
    public boolean canPartition(int[] nums) {
        
        int sum = 0;

        for(int k:nums){
            sum+= k;
        }
        if(sum%2!=0){
            return false;
        }
        int target = sum/2;
        int[][] dp = new int[nums.length][target + 1];

        for (int[] row : dp){

            Arrays.fill(row, -1);
        }

        int a = helper(nums , dp , 0 , sum/2);

        return a==1 ? true:false;
    }
}
